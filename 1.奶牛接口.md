[toc]

# 1.奶牛接口

## 1.1查询

- 根据奶牛id或者name查询奶牛相关信息,目前没有其他属性

### 1.1.1 url

- `http://39.105.138.189:8989/cow/query`

### 1.1.2 参数

| 参数 | 类型   | 是否必须 | 描述       |
| ---- | ------ | -------- | ---------- |
| name | 字符串 | 否       | 奶牛的别名 |
| id   | 整型   | 否       | 奶牛的id   |

### 1.1.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": [
        {
            "id": 13,
            "name": "123"
        }
    ]
}
```

| 字段      | 类型       | 描述                       |      |
| --------- | ---------- | -------------------------- | ---- |
| code      | 整型       | 返回码                     |      |
| msg       | 字符串     | 返回信息                   |      |
| data      | 结构体列表 | 根据查询条件返回的奶牛列表 |      |
| data.id   | 整型       | 奶牛id                     |      |
| data.name | 字符串     | 奶牛名字                   |      |



## 1.2 插入

### 1.2.1 url

- `http://39.105.138.189:8989/cow/insert`

### 1.2.2  参数

| 参数        | 类型                                  | 是否必须 | 描述                                                         |
| ----------- | ------------------------------------- | -------- | ------------------------------------------------------------ |
| name        | 字符串                                | 是       | 奶牛别名                                                     |
| old         | 整型                                  | 是       | 奶牛年龄                                                     |
| catchTime   | 字符串(格式必须是yyyy-MM-dd HH:mm:ss) | 是       | 入场时间                                                     |
| weight      | 浮点数                                | 是       | 体重                                                         |
| breedStatus | 字符串                                | 是       | 必须是限定的几个字符串:<br /> NOTFERTILIZED(未受精)<br />LACTATION(泌乳)<br />NORMAL(正常) |
| isHeat      | 布尔                                  | 是       | 是否发情                                                     |

### 1.2.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": {
        "id": 4,
        "name": "test1",
        "old": 12,
        "catchTime": "2019-11-11 11:11:11",
        "weight": 10.0,
        "breedStatus": "NORMAL",
        "isHeat": false
    }
}
```

| 字段      | 类型   | 描述             |      |
| --------- | ------ | ---------------- | ---- |
| code      | 整型   | 返回状态码       |      |
| msg       | 字符串 | 返回结果描述     |      |
| data      | 结构体 | 返回结果         |      |
| data.id   | 整型   | 插入的奶牛的id   |      |
| data.name | 字符串 | 插入的奶牛的name |      |

## 1.3 更新

### 1.3.1 url

- `http://39.105.138.189:8989/cow/update`

### 1.3.2 参数

| 参数        | 类型                                  | 是否必须 | 描述                                                         |
| ----------- | ------------------------------------- | -------- | ------------------------------------------------------------ |
| id          | 整型                                  | 是       | 奶牛id                                                       |
| name        | 字符串                                | 否       | 奶牛别名                                                     |
| old         | 整型                                  | 否       | 奶牛年龄                                                     |
| catchTime   | 字符串(格式必须是yyyy-MM-dd HH:mm:ss) | 否       | 入场时间                                                     |
| weight      | 浮点数                                | 否       | 体重                                                         |
| breedStatus | 字符串                                | 否       | 必须是限定的几个字符串:<br /> NOTFERTILIZED(未受精)<br />LACTATION(泌乳)<br />NORMAL(正常) |
| isHeat      | 布尔                                  | 否       | 是否发情                                                     |

### 

### 1.3.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": 1
}
```



| 字段 | 类型 | 描述                             |      |
| ---- | ---- | -------------------------------- | ---- |
| code |      |                                  |      |
| msg  |      |                                  |      |
| data | 整型 | 成功更新数量,1表示成功更新了一个 |      |



# 2. 奶牛体温接口

## 2.1 创建

### 2.1.1 url

- `http://localhost:8989/cow_heat/create`

### 2.1.2 参数

| 参数      | 类型   | 是否必须 | 描述     |
| --------- | ------ | -------- | -------- |
| startTime | 字符串 | 是       | 开始日期 |
| sum       | 整型   | 是       | 生成个数 |
| upper     | 浮点数 | 是       | 上限     |
| lower     | 浮点数 | 是       | 下限     |

### 2.1.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": {
        "cowId": null,
        "heats": [
            31.849135420343984,
            33.83812366285989,
            32.36050831952074,
            31.848609336722586,
            30.32454953090271
        ],
        "startTime": "2019-11-15",
        "timeUnit": "day"
    }
}
```

| 字段           | 类型       | 描述                    |      |
| -------------- | ---------- | ----------------------- | ---- |
| code           |            |                         |      |
| msg            |            |                         |      |
| data.cowId     | 整型       | 奶牛id,这个接口可以无视 |      |
| data.heats     | 浮点数列表 | 体温序列                |      |
| data.startTime | 字符串     | 开始时间                |      |
| data.timeUnit  | 时间单位   | "day"表示每天           |      |

## 2.2 预测

### 2.2.1 url 

- `http://39.105.138.189:8989/cow_heat/forecast?cowId&heats&startTime&ratio`
- 请求类型：Get

### 2.2.2 参数

| 参数       | 类型       | 是否必须 | 描述     |
| ---------- | ---------- | -------- | -------- |
| heats      | 浮点数列表 | 是       | 数据     |
| predictNum | 整型       | 是       | 预测个数 |

### 2.2.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": {
        "result": [
            29.81332872593547,
            28.28924957817755
        ]
    }
}
```

| 字段        | 类型       | 描述   |      |
| ----------- | ---------- | ------ | ---- |
| code        |            |        |      |
| msg         |            |        |      |
| data.result | 浮点数列表 | 预测值 |      |



## 2.3 保存

### 2.3.1 url

-  url : `http://localhost:8989/cow_heat/save`

- 请求类型：Post

- 需要在请求头里面加上字段：
  - `Contect-Type: application/json` 

### 2.3.2 参数体

```
{
	"cowId": 4,
	"heats": [31.849135420343984,
            33.83812366285989,
            32.36050831952074,
            31.848609336722586,
            30.32454953090271],
	"start_time": "2019-11-15"
}
```

### 2.3.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": 1
}
```

## 2.4 真实奶牛体温录入接口

### 2.4.1 url

- `http://39.105.138.189:8989/cow_heat/true_cow`
- 请求类型：Get

### 2.4.2 参数

| 参数  | 类型   | 是否必须 | 描述 |
| ----- | ------ | -------- | ---- |
| value | 浮点数 | 是       | 体温 |

### 2.4.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": true
}
```



# 3. 用户

## 3.1 查询

### 3.1.1 url

- `http://39.105.138.189:8989/user/query`

### 3.1.2 参数

| 参数     | 类型   | 是否必须 | 描述     |
| -------- | ------ | -------- | -------- |
| id       | 整型   | 否       |          |
| userName | 字符串 | 否       | 用户名   |
| passWord | 字符串 | 否       | 用户密码 |

### 3.1.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": [
        {
            "id": 1,
            "userName": "fuck",
            "passWord": "fk"
        }
    ]
}
```

| 字段          | 类型       | 描述     |      |
| ------------- | ---------- | -------- | ---- |
| data          | 结构体列表 | 用户列表 |      |
| data.id       | 整型       | 用户id   |      |
| data.userName | 字符串     | 用户名称 |      |
| data.passWord | 字符串     | 用户密码 |      |

## 3.2 插入

### 3.2.1 url

- `http://39.105.138.189:8989/user/insert`

### 3.2.2 参数

| 参数         | 类型   | 是否必须 | 描述                                     |
| ------------ | ------ | -------- | ---------------------------------------- |
| userName     | 字符串 | 是       | 用户名                                   |
| passWord     | 字符串 | 是       | 密码                                     |
| privilege    | 字符串 | 是       | 权限,两个枚举值:<br />ADMIN<br />VISITOR |
| registerTime | 字符串 | 是       | 注册时间                                 |
| email        | 字符串 | 是       | 邮箱                                     |

### 3.2.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": {
        "id": 12,
        "userName": "t2",
        "passWord": "t2",
        "privilege": "ADMIN",
        "registerTime": "2019-11-11 11:11:11",
        "email": "123456789@qq.com"
    }
}
```

## 3.3 更新

### 3.3.1 url

- `http://39.105.138.189:8989/user/update`

### 3.3.2 参数

| 参数         | 类型                        | 是否必须 | 描述     |
| ------------ | --------------------------- | -------- | -------- |
| id           | 整型                        | 是       |          |
| userName     | 字符串                      | 否       |          |
| passWord     | 字符串                      | 否       |          |
| privilege    | 字符串(ADMIN 或 VISITOR)    | 否       | 权限     |
| registerTime | 字符串(yyyy-MM-dd HH:mm:ss) | 否       | 注册时间 |
| email        | 字符串                      | 否       | 邮箱     |

### 3.3.3 返回体

```
{
    "code": 200,
    "msg": "success",
    "data": 1
}
```

| 字段 | 类型   | 描述         |      |
| ---- | ------ | ------------ | ---- |
| code | 整型   |              |      |
| msg  | 字符串 |              |      |
| data | 整型   | 更新成功次数 |      |

